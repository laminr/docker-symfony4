{% extends 'admin/base_data.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col s12 m6">
            <h1>Topic</h1>
            <div class="row">
                <div class="col s2">
                    {{ topic.id }}
                </div>
                <div class="col s10">
                    <div>
                        <small>{{ topic.subject.name }}</small>
                    </div>
                    {{ topic.name }}
                </div>
            </div>

            <div class="row">
                <div class="col s12">
                    <a class="btn left" href="{{ path('topic_index') }}">Back to the list</a>
                    <a class="btn right" href="{{ path('topic_edit', { 'id': topic.id }) }}">Edit</a>

                    {% if is_granted('ROLE_SUPER_ADMIN') %}
                        <button class="btn left red accent-4" data-target="confirm-delete">DELETE</button>
                    {% endif %}

                </div>
            </div>

        </div>
    </div>

    <div id="confirm-delete" class="modal">
        <div class="modal-content">
            <h2>Really want to delete it ?</h2>
            <p>
                {{ topic.name }}
            </p>
        </div>
        <div class="modal-footer">
            <a href="#!" class=" modal-action modal-close waves-effect btn red accent-4">Nooooo !!!!</a>
            {{ form_start(delete_form) }}
            <input class="btn left btn-flat" type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
            // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
            $('.modal').modal();
        });
    </script>
{% endblock %}

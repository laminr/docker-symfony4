{% extends 'admin/base_data.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col s12">
            <h1>Source</h1>

            <table>
                <tbody>
                <tr>
                    <th>Id</th>
                    <td>{{ source.id }}</td>
                </tr>
                <tr>
                    <th>Name</th>
                    <td>{{ source.name }}</td>
                </tr>
                <tr>
                    <th>Order</th>
                    <td>{{ source.sortBy }}</td>
                </tr>
                </tbody>
            </table>

            <div class="row">
                <div class="col s12">
                    <a class="btn left" href="{{ path('source_index') }}">Back to the list</a>
                    <a class="btn right" href="{{ path('source_edit', { 'id': source.id }) }}">Edit</a>

                    {% if is_granted('ROLE_SUPER_ADMIN') %}
                        <button class="btn left red accent-4" data-target="confirm-delete">DELETE</button>
                    {% endif %}

                </div>
            </div>

            <div id="confirm-delete" class="modal">
                <div class="modal-content">
                    <h2>Really want to delete it ?</h2>
                    <p>
                        {{ source.name }}
                    </p>
                </div>
                <div class="modal-footer">
                    <a href="#!" class=" modal-action modal-close waves-effect btn red accent-4">Nooooo !!!!</a>
                    {{ form_start(delete_form) }}
                    <input class="btn left btn-flat" type="submit" value="Delete">
                    {{ form_end(delete_form) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
            // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
            $('.modal').modal();
        });
    </script>
{% endblock %}
